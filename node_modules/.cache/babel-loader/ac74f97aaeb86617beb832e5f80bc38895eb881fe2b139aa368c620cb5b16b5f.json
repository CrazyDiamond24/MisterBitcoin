{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rania\\\\Desktop\\\\Coding\\\\btcoinrania\\\\src\\\\views\\\\ContactIndex.jsx\";\nimport { Component } from 'react';\nimport { contactService } from '../services/contact.service';\nimport { ContactList } from '../cmps/ContactList';\nimport { ContactDetails } from './ContactDetails';\nimport { ContactFilter } from '../cmps/ContactFilter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport class ContactIndex extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      constacts: null,\n      selectedContactId: null,\n      filterBy: {\n        name: '',\n        email: '',\n        phone: ''\n      }\n    };\n    this.loadContacts = async () => {\n      try {\n        const contacts = await contactService.getContacts(this.state.filterBy);\n        this.setState({\n          contacts\n        });\n      } catch (err) {\n        console.error('err:', err);\n      }\n    };\n    this.onRemoveContact = async contactId => {\n      try {\n        await contactService.deleteContact(contactId);\n        this.setState(_ref => {\n          let {\n            contacts\n          } = _ref;\n          return {\n            contacts: contacts.filter(contact => contact._id !== contactId)\n          };\n        });\n      } catch (err) {\n        console.error('error:', err);\n      }\n    };\n    this.onSelectContact = contactId => {\n      this.setState({\n        selectedContactId: contactId\n      });\n    };\n    this.onChangeFilter = filterBy => {\n      this.setState({\n        filterBy: {\n          ...filterBy\n        }\n      }, this.loadContacts);\n    };\n  }\n  componentDidMount() {\n    this.loadContacts();\n  }\n  render() {\n    const {\n      contacts,\n      selectedContactId,\n      filterBy\n    } = this.state;\n    if (!contacts) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 31\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"contact-index\",\n      children: selectedContactId ? /*#__PURE__*/_jsxDEV(ContactDetails, {\n        contactId: selectedContactId,\n        onBack: () => this.onSelectContact(null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ContactFilter, {\n          filterBy: filterBy,\n          onChangeFilter: this.onChangeFilter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ContactList, {\n          onRemoveContact: this.onRemoveContact,\n          contacts: contacts,\n          onSelectContact: this.onSelectContact\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["Component","contactService","ContactList","ContactDetails","ContactFilter","jsxDEV","_jsxDEV","Fragment","_Fragment","ContactIndex","constructor","arguments","state","constacts","selectedContactId","filterBy","name","email","phone","loadContacts","contacts","getContacts","setState","err","console","error","onRemoveContact","contactId","deleteContact","_ref","filter","contact","_id","onSelectContact","onChangeFilter","componentDidMount","render","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onBack"],"sources":["C:/Users/rania/Desktop/Coding/btcoinrania/src/views/ContactIndex.jsx"],"sourcesContent":["import { Component } from 'react'\nimport { contactService } from '../services/contact.service'\nimport { ContactList } from '../cmps/ContactList'\nimport { ContactDetails } from './ContactDetails'\nimport { ContactFilter } from '../cmps/ContactFilter'\n\nexport class ContactIndex extends Component {\n\n    state = {\n        constacts: null,\n        selectedContactId: null,\n        filterBy: {\n            name: '',\n            email: '',\n            phone: '',\n        }\n    }\n\n    componentDidMount() {\n        this.loadContacts()\n    }\n\n    loadContacts = async () => {\n        try {\n            const contacts = await contactService.getContacts(this.state.filterBy)\n            this.setState({ contacts })\n        } catch (err) {\n            console.error('err:', err)\n        }\n    }\n\n    onRemoveContact = async (contactId) => {\n        try {\n            await contactService.deleteContact(contactId)\n            this.setState(({ contacts }) => ({\n                contacts: contacts.filter(contact => contact._id !== contactId)\n            }))\n        } catch (err) {\n            console.error('error:', err)\n        }\n    }\n\n    onSelectContact = (contactId) => {\n        this.setState({ selectedContactId: contactId })\n    }\n\n    onChangeFilter = (filterBy) => {\n        this.setState({ filterBy: { ...filterBy } }, this.loadContacts)\n    }\n\n    render() {\n        const { contacts, selectedContactId, filterBy } = this.state\n        if (!contacts) return <div>Loading...</div>\n        return (\n            <section className='contact-index'>\n                {selectedContactId ?\n                    <ContactDetails contactId={selectedContactId} onBack={(() => this.onSelectContact(null))} /> :\n                    <>\n                        <ContactFilter filterBy={filterBy} onChangeFilter={this.onChangeFilter} />\n                        <ContactList onRemoveContact={this.onRemoveContact} contacts={contacts} onSelectContact={this.onSelectContact} />\n                    </>\n                }\n            </section>\n        )\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}